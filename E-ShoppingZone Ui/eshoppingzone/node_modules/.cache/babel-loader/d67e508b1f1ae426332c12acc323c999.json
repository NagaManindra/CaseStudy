{"ast":null,"code":"var _jsxFileName = \"D:\\\\E-ShoppingZone Ui\\\\eshoppingzone\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport '../styles/Login.css';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { useDispatch } from 'react-redux';\nimport { LOGIN_SUCCESS, LOGIN_FAILED, POST_USER_DATA } from '../actions/isLogged';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [userAccount, setUserAccount] = useState({\n    userName: \"\",\n    password: \"\"\n  });\n  const dispatch = useDispatch(); //Login function \n\n  const loginUserAccount = async e => {\n    e.preventDefault();\n\n    try {\n      //API call\n      const requestLogin = await axios.post('http://localhost:8079/login', userAccount);\n      let {\n        message\n      } = requestLogin.data;\n      let {\n        userData\n      } = requestLogin.data;\n      let {\n        access\n      } = requestLogin.data;\n      let token = requestLogin.headers[\"auth-token\"];\n      userData.token = token;\n      userData.access = access;\n      await Swal.fire({\n        icon: 'success',\n        title: 'Congrats',\n        text: `${message}`\n      }); // console.log(requestLogin);\n      //Dispatching of action\n\n      dispatch(LOGIN_SUCCESS());\n      dispatch(POST_USER_DATA(userData)); // window.location.replace('/products');\n    } catch (error) {\n      console.log(error);\n\n      if (error.response) {\n        console.log(error);\n        /*\r\n         * The request was made and the server responded with a\r\n         * status code that falls out of the range of 2xx\r\n         */\n\n        const {\n          message\n        } = error.response.data;\n        await Swal.fire({\n          icon: 'error',\n          title: 'Login Failed',\n          text: `${message}`\n        });\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        // Something happened in setting up the request and triggered an Error\n        console.log('Error', error.message);\n      }\n\n      dispatch(LOGIN_FAILED());\n    }\n  };\n\n  const handleChange = async event => {\n    setUserAccount({ ...userAccount,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginContent\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"leftLogin\",\n        onSubmit: loginUserAccount,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          id: \"loginLbl\",\n          children: \"Hi, Welcome\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          id: \"descLbl\",\n          children: [\"Log in your account to check and buy our products. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 92\n          }, this), \" Enjoy shopping.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"inputUsername\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"userName\",\n            id: \"outlined-search\",\n            label: \"Username\",\n            type: \"search\",\n            variant: \"outlined\",\n            style: {\n              width: '100%'\n            },\n            required: true,\n            onChange: handleChange,\n            defaultValue: userAccount.userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"inputPassword\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"password\",\n            className: \"inputPassword\",\n            id: \"outlined-password-input\",\n            label: \"Password\",\n            type: \"password\",\n            autoComplete: \"current-password\",\n            variant: \"outlined\",\n            style: {\n              width: '100%'\n            },\n            required: true,\n            defaultValue: userAccount.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"loginBtn\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"forgotPasswordCtn\",\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: \"#\",\n                children: \"Forgot password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loginBtnCtn\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              id: \"loginPrimaryBtn\",\n              type: \"submit\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signUpText\",\n          children: [\"Doesn't have an account yet?\", /*#__PURE__*/_jsxDEV(Typography, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/register\",\n              id: \"createAcct\",\n              children: \"Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rightLogin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"lA1jYSjNumKBLF4otbYUC/p3n+o=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Button","Link","TextField","Typography","axios","Swal","useDispatch","LOGIN_SUCCESS","LOGIN_FAILED","POST_USER_DATA","Login","userAccount","setUserAccount","userName","password","dispatch","loginUserAccount","e","preventDefault","requestLogin","post","message","data","userData","access","token","headers","fire","icon","title","text","error","console","log","response","request","handleChange","event","target","name","value","width"],"sources":["D:/E-ShoppingZone Ui/eshoppingzone/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/Login.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport Link from '@material-ui/core/Link';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport { useDispatch } from 'react-redux';\r\nimport { LOGIN_SUCCESS, LOGIN_FAILED, POST_USER_DATA } from '../actions/isLogged';\r\n\r\nconst Login = () => {\r\n    const [userAccount, setUserAccount] = useState({\r\n        userName: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    //Login function \r\n    const loginUserAccount = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            //API call\r\n            const requestLogin = await axios.post('http://localhost:8079/login', userAccount);\r\n            let { message } = requestLogin.data;\r\n            let { userData } = requestLogin.data;\r\n            let { access } = requestLogin.data;\r\n            let token = requestLogin.headers[\"auth-token\"];\r\n            userData.token = token;\r\n            userData.access = access;\r\n            await Swal.fire({\r\n                icon: 'success',\r\n                title: 'Congrats',\r\n                text: `${message}`\r\n            });\r\n            // console.log(requestLogin);\r\n            //Dispatching of action\r\n            dispatch(LOGIN_SUCCESS());\r\n            dispatch(POST_USER_DATA(userData));\r\n            // window.location.replace('/products');\r\n        } catch (error) {\r\n            console.log(error);\r\n            if (error.response) {\r\n                console.log(error);\r\n                /*\r\n                 * The request was made and the server responded with a\r\n                 * status code that falls out of the range of 2xx\r\n                 */\r\n                const { message } = error.response.data;\r\n                await Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Login Failed',\r\n                    text: `${message}`\r\n                });\r\n            } else if (error.request) {\r\n                console.log(error.request);\r\n            } else {\r\n                // Something happened in setting up the request and triggered an Error\r\n                console.log('Error', error.message);\r\n            }\r\n            dispatch(LOGIN_FAILED());\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleChange = async event => {\r\n        setUserAccount({ ...userAccount, [event.target.name]: event.target.value });\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"loginContent\">\r\n                <form className=\"leftLogin\" onSubmit={loginUserAccount}>\r\n                    <label id=\"loginLbl\">Hi, Welcome</label>\r\n                    <br />\r\n                    <label id=\"descLbl\">Log in your account to check and buy our products. <br /> Enjoy shopping.</label>\r\n                    <br />\r\n                    <div id=\"inputUsername\">\r\n                        <TextField\r\n                            name=\"userName\"\r\n                            id=\"outlined-search\"\r\n                            label=\"Username\"\r\n                            type=\"search\"\r\n                            variant=\"outlined\"\r\n                            style={{ width: '100%' }}\r\n                            required\r\n                            onChange={handleChange}\r\n                            defaultValue={userAccount.userName}\r\n\r\n                        />\r\n                    </div>\r\n                    <br />\r\n                    <div id=\"inputPassword\">\r\n                        {<TextField\r\n                            name=\"password\"\r\n                            className=\"inputPassword\"\r\n                            id=\"outlined-password-input\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            variant=\"outlined\"\r\n                            style={{ width: '100%' }}\r\n                            required\r\n                            defaultValue={userAccount.password}\r\n                            onChange={handleChange}\r\n                        />}\r\n                    </div>\r\n                    <br />\r\n                    <div id=\"loginBtn\">\r\n                        <div className=\"forgotPasswordCtn\">\r\n                            <Typography >\r\n                                <Link href=\"#\" >\r\n                                    Forgot password?\r\n                                </Link>\r\n                            </Typography>\r\n                        </div>\r\n                        <div className=\"loginBtnCtn\">\r\n                            <Button variant=\"contained\" color=\"primary\" id=\"loginPrimaryBtn\" type=\"submit\">\r\n                                Log in\r\n                        </Button>\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"signUpText\">\r\n                        Doesn't have an account yet?\r\n                        <Typography >\r\n                            <Link href=\"/register\" id=\"createAcct\">\r\n                                Sign up\r\n                            </Link>\r\n                        </Typography>\r\n                    </div>\r\n                </form>\r\n                <div className=\"rightLogin\">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}